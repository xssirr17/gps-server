import{o as y,k as C,l as k,q as _,p as f}from"./index-1cddbe14.js";import{t as c}from"./index-012bf22c.js";import{b7 as S,as as m,ak as i,m as l,n as s,b4 as h,aS as p,Y as v,F as x,au as I,aK as R,ao as U,al as B}from"./_plugin-vue_export-helper-27e74e83.js";const M=d=>(U("data-v-3d3ee2bb"),d=d(),B(),d),V={class:"container"},D={class:"choices"},E={class:"optinos"},F=M(()=>s("label",{for:"type"},"commands",-1)),G=["value"],L={__name:"sendCommand",setup(d){const b=y();let n=m(),u=m(),o=m();const w=async()=>{if(o.value)try{const a=b.params.imei,t=await _.post("user/fetchGpsNumber",{gps_imei:a}),e=`p${o.value}p${n.value}`,r=`sms:${t.data.number}?body=${encodeURIComponent(e)}`;window.location.href=r,f.push("/")}catch{c.error("something went wrong")}else c.info("enter password at first")},g=()=>{f.push("/")};return(()=>{_.post("/user/fetchCommands").then(a=>{u.value=a.data.commands}).catch(a=>{c.error("somthing went wrong when fetching commands",{autoClose:3e3})})})(),(a,t)=>(i(),l("div",V,[s("i",{class:"fa fa-remove removeGap",onClick:g}),s("div",D,[s("div",E,[F,h(s("select",{name:"",id:"type","onUpdate:modelValue":t[0]||(t[0]=e=>v(n)?n.value=e:n=e)},[(i(!0),l(x,null,I(p(u),(e,r)=>(i(),l("option",{key:r,value:e.command_code},R(e.define),9,G))),128))],512),[[C,p(n)]])]),h(s("input",{type:"password",id:"",placeholder:"enter your password","onUpdate:modelValue":t[1]||(t[1]=e=>v(o)?o.value=e:o=e)},null,512),[[k,p(o)]]),s("input",{type:"submit",id:"",placeholder:"send command",value:"sendCommand",class:"btn",onClick:w})])]))}},K=S(L,[["__scopeId","data-v-3d3ee2bb"]]);export{K as default};
