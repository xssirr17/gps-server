import{v as y,i as o}from"./axios-eaf5c85e.js";import{i as h}from"./api-d5b2fa82.js";/* empty css                                                               */import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{D as _,o as O,c as k,P as s,U as l,X as B,M as j,Y as D,S as I,F as E}from"./runtime-core.esm-bundler-8e25eac6.js";const F={class:"container"},M={class:"info"},S={class:"item"},U={class:"item"},V={class:"item"},z={class:"item"},N={class:"item"},P={class:"item"},R={__name:"gpsCom",props:["gps","index"],setup(i){const e=i;let g=_("hidden"),r=_();const w=()=>{g.value="charge"},C=()=>{var a;h.post("/user/chargingObject",{hours:r.value,total_cost:0,object_id:(a=e==null?void 0:e.gps)==null?void 0:a.object_id}).then(t=>{t.data.code==200?o.success("account charged successfully",{autoClose:3e3}):o.error("somthing went wrong when charging account",{autoClose:3e3}),g.value="hidden"}).catch(t=>{o.error("somthing went wrong when charging account",{autoClose:3e3}),g.value="hidden"})},v=()=>{var a,t;h.post("/user/deleteObject",{object_id:(a=e==null?void 0:e.gps)==null?void 0:a.object_id,gps_imei:(t=e==null?void 0:e.gps)==null?void 0:t.gps_imei}).then(n=>{o.success("object removed successfully",{autoClose:3e3})}).catch(n=>{o.error("something went wrong when remove object",{autoClose:3e3})})},p=()=>{var a,t,n,d,u;((a=e==null?void 0:e.gps)==null?void 0:a.status)=="disable"?h.post("/user/enableObject",{object_id:(t=e==null?void 0:e.gps)==null?void 0:t.object_id,gps_imei:(n=e==null?void 0:e.gps)==null?void 0:n.gps_imei}).then(c=>{c.data.code!=200?o.error("somthing went wrong when enabling object",{autoClose:3e3}):c.data.code==200&&(e.gps.status="enable",o.success("object enabled successfully",{autoClose:3e3}))}).catch(c=>{o.error("somthing went wrong",{autoClose:3e3})}):h.post("/user/disableObject",{object_id:(d=e==null?void 0:e.gps)==null?void 0:d.object_id,gps_imei:(u=e==null?void 0:e.gps)==null?void 0:u.gps_imei}).then(c=>{c.data.code!=200?o.error("somthing went wrong when disabling object",{autoClose:3e3}):c.data.code==200&&(e.gps.status="disable",o.success("object disabled successfully",{autoClose:3e3}))}).catch(c=>{o.error("somthing went wrong",{autoClose:3e3})})};return(a,t)=>{var n,d,u,c,m,b;return O(),k(E,null,[s("div",F,[s("div",M,[s("p",S,l(i.index+1)+"_",1),s("p",U,"imei :"+l((n=i.gps)==null?void 0:n.gps_imei),1),s("p",V,"model :"+l((d=i.gps)==null?void 0:d.type),1),s("p",z,"user id :"+l((u=i.gps)==null?void 0:u.user_id),1),s("p",N,"status :"+l((c=i.gps)==null?void 0:c.status),1),s("p",P," subscription :"+l(+((m=i.gps)==null?void 0:m.hours)<0?0:parseInt(+((b=i.gps)==null?void 0:b.hours)/60/60/24))+" days ",1)]),s("div",{class:"buttons"},[s("i",{class:"fa fa-power-off",onClick:p}),s("i",{class:"fa fa-trash",onClick:v}),s("i",{class:"fa fa-usd",onClick:w})])]),s("div",{class:I(j(g))},[B(s("input",{type:"text",placeholder:"enter the hours to charge object","onUpdate:modelValue":t[0]||(t[0]=f=>D(r)?r.value=f:r=f)},null,512),[[y,j(r)]]),s("button",{onClick:C},"Enter")],2)],64)}}},G=x(R,[["__scopeId","data-v-957f44eb"]]);export{G as g};
